// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

generator typegraphql {
  provider = "typegraphql-prisma"
  output   = "./generated/typegraphql"
}

model User {
  id               String    @id @default(uuid())
  firstName        String
  lastName         String
  email            String?   @unique
  phoneNumber      String    @unique
  loginConfirmedAt DateTime?
  role             Role      @default(USER)
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @default(now()) @updatedAt
}

model Service {
  id         Int         @id @default(autoincrement())
  name       String      @unique
  name_ar    String      @unique
  attributes Attribute[]
  createdAt  DateTime    @default(now())
}

model Attribute {
  id             Int            @id @default(autoincrement())
  name           String         @unique
  name_ar        String         @unique
  description    String?
  description_ar String?
  services       Service[]
  type           AttributeTypes @default(INPUT)
  createdAt      DateTime       @default(now())
}

enum AttributeTypes {
  INPUT
  CARMODELS
  PAYMENT_METHOD

}

enum Role {
  USER
  MANAGER
  ADMIN
}
